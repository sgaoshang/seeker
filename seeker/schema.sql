-- Initialize the database.
-- Drop any existing data and create empty tables.

DROP TABLE IF EXISTS user;
DROP TABLE IF EXISTS cases;
DROP TABLE IF EXISTS cases_search_date;

CREATE TABLE user (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT UNIQUE NOT NULL,
  password TEXT NOT NULL
);

CREATE TABLE cases (
  case_id INTEGER PRIMARY KEY,
  predict BOOLEAN NOT NULL,
  validate BOOLEAN,
  case_date CHAR(10) NOT NULL,
  case_cover CHAR(50),
  bug_cover CHAR(50),
  author_id INTEGER NOT NULL,
  FOREIGN KEY (author_id) REFERENCES user (id)
);

CREATE TABLE cases_search_date (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  search_date CHAR(10) NOT NULL,
  component TEXT UNIQUE NOT NULL
);

INSERT INTO user (username, password)
VALUES
  ('test', 'pbkdf2:sha256:50000$TCI4GzcX$0de171a4f4dac32e3364c7ddc7c14f3e2fa61f2d17574483f7ffbb431b4acb2f'),
  ('other', 'pbkdf2:sha256:50000$kJPKsz6N$d2d4784f1b030a9761f5ccaeeaca413f27f2ecb76d6168407af962ddce849f79');

INSERT INTO cases_search_date (search_date, component)
VALUES ('2018-08-05', 'virt-who');

INSERT INTO cases
VALUES
  (01931212, 1, 1,'2017-09-01','RHEL7-99882','1308544',1),
  (01931222, 1, 1,'2017-09-02','RHEL7-99882','1308544',1),
  (01931232, 1, 1,'2017-09-03','RHEL7-99882','1308544',1),
  (01931242, 1, 1,'2017-09-04','RHEL7-99882','1308544',1),
  (01931252, 1, 1,'2017-09-05','RHEL7-99882','1308544',1),
  (01931262, 1, 1,'2017-09-06','RHEL7-99882','1308544',1),
  (01931272, 1, 1,'2017-09-07','RHEL7-99882','1308544',1),
  (01931282, 1, 1,'2017-09-08','RHEL7-99882','1308544',1),
  (01931292, 1, 1,'2017-09-09','RHEL7-99882','1308544',1),
  (02931212, 1, 1,'2017-09-10','RHEL7-99882','1308544',1),
  (03931212, 1, 1,'2017-09-11','RHEL7-99882','1308544',1),
  (0493121277,1, 1,'2017-09-12','RHEL7-99882','1308544',1),
  (05931212, 1, 1,'2017-09-13','RHEL7-99882','1308544',1),
  (06931212, 1, 1,'2017-09-14','RHEL7-99882','1308544',1),
  (07931222, 1, 1,'2017-09-02','RHEL7-99882','1308544',1),
  (08931232, 1, 1,'2017-09-03','RHEL7-99882','1308544',1),
  (09931242, 1, 1,'2017-09-04','RHEL7-99882','1308544',1),
  (11931252, 1, 1,'2017-09-05','RHEL7-99882','1308544',1),
  (21931262, 1, 1,'2017-09-06','RHEL7-99882','1308544',1),
  (31931272, 1, 1,'2017-09-07','RHEL7-99882','1308544',1),
  (41931282, 1, 1,'2017-09-08','RHEL7-99882','1308544',1),
  (51931292, 1, 1,'2017-09-09','RHEL7-99882','1308544',1),
  (62931212, 1, 1,'2017-09-10','RHEL7-99882','1308544',1),
  (73931212, 1, 1,'2017-09-11','RHEL7-99882','1308544',1),
  (84931212, 1, 1,'2017-09-12','RHEL7-99882','1308544',1),
  (95931212, 1, 1,'2017-09-13','RHEL7-99882','1308544',1),
  (06131212, 1, 1,'2017-09-14','RHEL7-99882','1308544',1),
  (01231222, 1, 1,'2017-09-02','RHEL7-99882','1308544',1),
  (01331232, 1, 1,'2017-09-03','RHEL7-99882','1308544',1),
  (01431242, 1, 1,'2017-09-04','RHEL7-99882','1308544',1),
  (01531252, 1, 1,'2017-09-05','RHEL7-99882','1308544',1),
  (01631262, 1, 1,'2017-09-06','RHEL7-99882','1308544',1),
  (01731272, 1, 1,'2017-09-07','RHEL7-99882','1308544',1),
  (01831282, 1, 1,'2017-09-08','RHEL7-99882','1308544',1),
  (011131292, 1, 1,'2017-09-09','RHEL7-99882','1308544',1),
  (029131212, 1, 1,'2017-09-10','RHEL7-99882','1308544',1),
  (039311212, 1, 1,'2017-09-11','RHEL7-99882','1308544',1),
  (04931212, 1, 1,'2017-09-12','RHEL7-99882','1308544',1),
  (059311212, 1, 1,'2017-09-13','RHEL7-99882','1308544',1),
  (069312112, 1, 1,'2017-09-14','RHEL7-99882','1308544',1),
  (079312112, 1, 1,'2017-09-15','RHEL7-99882','1308544',1);